import json

# Load the JSON data from the first file
with open('/Users/yousefalbunni/Desktop/bsc-yossef-al-buni/Code/filtered_data.json', 'r') as file1:
    d = json.load(file1)

# Load the JSON data from the second file
with open('/Users/yousefalbunni/Desktop/bsc-yossef-al-buni/Code/output_1/gpt_output.json', 'r') as file2:
    dg = json.load(file2)
gpt_data = []
# Iterate over the keys of the first dictionary
for i in range(0, 50):
    new_gpt_data = {'idx': d[i]['idx'],
                    'vuln_id': d[i]['vuln_id'],
                    'desc: ': d[i]['desc'],
                    'cwe_id': d[i]['cwe_id'],
                    'cwe_name': d[i]['cwe_name'],
                    'repo': d[i]['repo'],
                    'commit': d[i]['commit'],
                    'method_before': d[i]['method_before'],
                    'gpt_review_before': dg[i]['gpt_review_before'],
                    'method_after': d[i]['method_after'],
                    'gpt_review_after': dg[i]['gpt_review_after'],
                    }
    gpt_data.append(new_gpt_data)

with open('/Users/yousefalbunni/Desktop/bsc-yossef-al-buni/Code/gpt_output.json', 'w') as file:
    json.dump(gpt_data, file, indent=4)
